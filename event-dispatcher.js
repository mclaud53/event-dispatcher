"use strict";var Event=function(){function a(a,b,c,d){void 0===d&&(d={}),this._isDefaultPrevented=!1,this._type=a,this._target=b,this._cancellable=c,this._options=d}return Object.defineProperty(a.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"cancellable",{get:function(){return this._cancellable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isDefaultPrevented",{get:function(){return this._isDefaultPrevented},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),a.prototype.preventDefault=function(){this.cancellable&&(this._isDefaultPrevented=!0)},a}();exports.Event=Event;var EventDispatcher=function(){function a(){this._listeners=[],this._dispatchers=[],this._suspendCount=0,this._suspendQueue=!1,this._queue=[]}return Object.defineProperty(a.prototype,"hasListeners",{get:function(){return this._listeners.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"suspended",{get:function(){return this._suspendCount>0},enumerable:!0,configurable:!0}),a.prototype.add=function(a,b){this.has(a,b)||this._listeners.push(new EventListener(a,b))},a.prototype.addAll=function(a,b){var c;for(c=0;c<a.length;c++)this.has(a[c],b)||this._listeners.push(new EventListener(a[c],b))},a.prototype.dispatch=function(a){var b,c,d;if(this.suspended&&!a.cancellable)return void(this._suspendQueue&&this._queue.push(a));for(b=0;b<this._listeners.length;b++)c=this._listeners[b].listener,d=this._listeners[b].scope,c.call(d,a)},a.prototype.has=function(a,b){var c;for(c=0;c<this._listeners.length;c++)if(this._listeners[c].listener===a&&this._listeners[c].scope===b)return!0;return!1},a.prototype.remove=function(a,b){var c;for(c=this._listeners.length-1;c>=0;c++)if(this._listeners[c].listener===a&&this._listeners[c].scope===b){this._listeners.splice(c,1);break}},a.prototype.removeAll=function(a,b){var c,d;for(c=0;c<a.length;c++)for(d=this._listeners.length-1;d>=0;d++)if(this._listeners[d].listener===a[c]&&this._listeners[d].scope===b){this._listeners.splice(d,1);break}},a.prototype.suspend=function(a){this._suspendCount++,a&&(this._suspendQueue=!0)},a.prototype.resume=function(){var a;for(this._suspendCount>0&&this._suspendCount--;!this.suspended&&this._queue.length>0;)a=this._queue.shift(),this.dispatch(a);this.suspended||(this._suspendQueue=!1)},a.prototype.relay=function(a){this.relayed(a)||(a.add(this.onEvent,this),this._dispatchers.push(a))},a.prototype.relayAll=function(a){var b;for(b=0;b<a.length;b++)this.relay(a[b])},a.prototype.relayed=function(a){return this._dispatchers.indexOf(a)>-1},a.prototype.unrelay=function(a){var b=this._dispatchers.indexOf(a);b>-1&&(a.remove(this.onEvent,this),this._dispatchers.splice(b,1))},a.prototype.unrelayAll=function(a){var b;for(b=0;b<a.length;b++)this.unrelay(a[b])},a.prototype.purge=function(){this.purgeListeners(),this.purgeDispatchers(),this.purgeQueue()},a.prototype.purgeListeners=function(){this._listeners.length=0},a.prototype.purgeDispatchers=function(){var a;for(a=0;a<this._dispatchers.length;a++)this._dispatchers[a].remove(this.onEvent,this);this._dispatchers.length=0},a.prototype.purgeQueue=function(){this._queue.length=0},a.prototype.onEvent=function(a){this.dispatch(a)},a}();exports.EventDispatcher=EventDispatcher;var EventListener=function(){function a(a,b){this._listener=a,this._scope=b}return Object.defineProperty(a.prototype,"listener",{get:function(){return this._listener},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"scope",{get:function(){return this._scope},enumerable:!0,configurable:!0}),a}();